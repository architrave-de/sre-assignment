# Microservices deployment to Kubernetes:

Requirements:
1. Minikube/kubernetes cluster
2. Kubectl

The Kubernetes manifests were generated through [Kompose](https://kubernetes.io/docs/tasks/configure-pod-container/translate-compose-kubernetes/) . As I already in previuos steps created relevant microservice architectures through docker compose. Therefore, I took the leverage of it created base kubernetes manifests through it. However, generated manifests were not able to run succeessfully, as at this point of time Kompose is not powerfull enough to convert successfully compose files to kubernetes manifests for complex set-up. Therefore, I needed bit of tinkering with the images and manifests. One such example is I used shared volumes to share data (source code) between Nginx and PhP in docker compose. But this is not very straightforward with Kunernetes, recommended is to use a proper external volume while sharing data within kubernetes containers, although Kubernetes does support mapping HostVolumes to the containers, its generally not recommenis good room for making absolute path of the host machine. However, for the scope of this assignment I have just passed sources to containers itself. Moreover, there is good room for making improvements on the implementation. One such is to use statefulSets for the db, perhaps run both php-fpm and nginx on a single pod etc.

To run the services and pods: `kubectl create -f kubernetes` here `kubernetes` is the directory name which holds all manifests  . Once all pods and services are up. To access the services from host machine use `kubectl port-forward pod_name port_of_your_choice:443|80` . To get the pod names `cubectl get pods`